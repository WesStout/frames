@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<h2> Frames </h2>
<a class="btn btn-primary" asp-page="/Frames/Create">New frame</a>
@* <form method="post">
    <label asp-for="Message">Name:</label>
    <input asp-for="Message" type="text" />
    <button type="submit">Submit</button>
</form> *@

@* <div class="editorItem">
    <div id="editorGrid">
        <div class="topItem" id="Top1"></div>
        <div class="topItem doNotShow" id="Top2"></div>
        <div class="topItem doNotShow" id="Top3"></div>
        <div class="topItem doNotShow" id="Top4"></div>
        <div class="topItem doNotShow" id="Top5"></div>
        <div class="rightItem" id="Right1"></div>
        <div class="rightItem doNotShow" id="Right2"></div>
        <div class="rightItem doNotShow" id="Right3"></div>
        <div class="rightItem doNotShow" id="Right4"></div>
        <div class="rightItem doNotShow" id="Right5"></div>
        <div class="leftItem" id="Left1"></div>
        <div class="leftItem doNotShow" id="Left2"></div>
        <div class="leftItem doNotShow" id="Left3"></div>
        <div class="leftItem doNotShow" id="Left4"></div>
        <div class="leftItem doNotShow" id="Left5"></div>
        <div class="bottomItem" id="Bottom1"></div>
        <div class="bottomItem doNotShow" id="Bottom2"></div>
        <div class="bottomItem doNotShow" id="Bottom3"></div>
        <div class="bottomItem doNotShow" id="Bottom4"></div>
        <div class="centerGrid" id="centerGrid">
            <div id="header">Design your frame</div>
            <div id="centerTopLeftItem">
                <div id="imageUpload">
                    <input type="file" class="uploadBackground">
                </div>
            </div>
            <div id="centerTopRightItem">
                <div id="sizeInput">
                </div>
            </div>
            <div id="centerBottomLeftItem">
                <div id="woodSpeciesSelect">
                </div>
            </div>
            <div id="centerBottomRightItem">
                <div id="build">
                </div>
            </div>
        </div>

    </div>
</div> *@

<style>
    /* body {
        height: 100vh;
        background-color: #f1f1f1;
        background-image: url('/backgrounds/brick.jpg');
    }
     
    .editorItem {
        display: flex;
        width: 92vw;
        border-radius: 8px;
        background-color: #f1f1f1;
    }

    #editorGrid {
        display: grid;
        grid-template-columns: 5% 90% 5%;
        grid-template-rows: 5% 90% 5%;
        justify-items: center;
        align-items: center;
        border-radius: 8px;
        height: 84vh;
        width: 92vw;
    }

    .frameItem {
        align-content: center;
        justify-self: center;
    }

    .leftItem {
        height: 100%;
        width: 100%;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        grid-column: 1;
        grid-row: 1 / 4;
        background-size: cover;
    }

    .rightItem {
        height: 100%;
        width: 100%;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        grid-column: 3;
        grid-row: 1 / 4;
        background-size: cover;
    }

    .topItem {
        height: 100%;
        width: 100%;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        grid-column: 1 / 4;
        grid-row: 1;
        background-size: cover;
    }

    .bottomItem {
        height: 100%;
        width: 100%;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 1.2rem;
        grid-column: 1 / 4;
        grid-row: 3;
        background-size: cover;
        
    }


    .centerGrid {
        grid-column: 2;
        grid-row: 2;
        background-size: cover;
        height: 100%;
        width: 100%;
        display: grid;
        grid-auto-columns: 1fr 1fr;
        grid-auto-rows: 2fr 3fr 3fr;
    }

    #centerTopLeftItem {
        display: grid;
        grid-column: 1;
        grid-row: 2;
        height: 100%;
        width: 100%;
    }
    #centerTopRightItem {
        display: grid;
        grid-column: 2;
        grid-row: 2;
        height: 100%;
        width: 100%;
    }
    #centerBottomLeftItem {
        display: grid;
        grid-column: 1;
        grid-row: 3;
        height: 100%;
        width: 100%;
    }

    #centerBottomRightItem {
        display: grid;
        grid-column: 2;
        grid-row: 3;
        height: 100%;
        width: 100%;
    }

    #header {
        display: grid;
        grid-column: 1 / 3;
        grid-row: 1;
        font-size: 4rem;
        justify-content: center;
        padding: 10px
    }

    #imageUpload {
        display: grid;
        justify-content: center;
        align-items: center;
    }
    .uploadBackground {
        justify-content: center;
        align-items: center;
    }
    #sizeInput {
    }
    #woodSpeciesSelect {
    }

    #build {
    }

    #Left1 {
        @{
            string styleStringV = "background-image: url(/images/" + @ViewData["species"] + "V.jpg);";
        }
        @styleStringV
    }
    #Left2 {
    }
    #Left3 {
    }
    #Left4 {
    }
    #Left5 {
    }

    #Right1 {
        @styleStringV
    }

    #Right2 {
    }

    #Right3 {
    }

    #Right4 {
    }

    #Right5 {
    }

    .topItem {

    }

    #Top1 {
        @{
            string styleStringH = "background-image: url(/images/" + @ViewData["species"] + "H.jpg);";
        }
        @styleStringH
    }
    #Top2 {
    }
    #Top3 {
    }
    #Top4 {
    }
    #Top5 {
    }

    #Bottom1 {
        @styleStringH
    }
    #Bottom2 {
    }
    #Bottom3 {
    }
    #Bottom4 {
    }
    #Bottom5 {
    } */

</style>
<script>
    // let editorItemT = document.getElementsByClassName("editorItem")[0];
    // let w = editorItemT.offsetWidth / 30;
    // let h = editorItemT.offsetHeight / 30;
    // let frameSizeT = 0;
    // let framePercentWidthT = 0;
    // let framePercentHeightT = 0;
    // let leftFrame1T = document.getElementById("Left1");
    // let rightFrame1T = document.getElementById("Right1");
    // let topFrame1T = document.getElementById("Top1");
    // let bottomFrame1T = document.getElementById("Bottom1");
    // let numLeftVisiblePiecesT = 1;
    // let numRightVisiblePiecesT = 1;
    // let numTopVisiblePiecesT = 1;
    // let numBottomVisiblePiecesT = 1;

    // window.addEventListener('resize', refresh);

    // function refreshAR() {
    //     if (w * h < 40) {
    //         frameSizeT = 0.8;
    //     }
    //     else if (w * h > 360) {
    //         frameSizeT = 1.1875;
    //     }
    //     else {
    //         frameSizeT = 0.9375;
    //     }
    //     let frameGrid = document.getElementById("editorGrid");
    //     Account for rabbets on both sides
    //     let totalFrameW = (w - .6) + (2 * frameSizeT);
    //     let totalFrameH = (h - .6) + (2 * frameSizeT);
    //     let str = totalFrameW.toString() + " / " + totalFrameH.toString();
    //     frameGrid.style.aspectRatio = str;
    //     let framePercentWidthMath = frameSizeT / totalFrameW;
    //     let picturePercentWidthMath = (1 - (2 * framePercentWidthMath)) * 100;
    //     let framePercentHeightMath = frameSizeT / totalFrameH;
    //     let picturePercentHeightMath = (1 - (2 * framePercentHeightMath)) * 100;
    //     framePercentWidthMath = framePercentWidthMath * 100;
    //     framePercentHeightMath = framePercentHeightMath * 100;
    //     columns use width, rows use height
    //     let columnString = framePercentWidthMath.toString() + "% " + picturePercentWidthMath.toString() + "% " + framePercentWidthMath.toString() + "%";
    //     frameGrid.style.gridTemplateColumns = columnString;
    //     let rowString = framePercentHeightMath.toString() + "% " + picturePercentHeightMath.toString() + "% " + framePercentHeightMath.toString() + "%";
    //     frameGrid.style.gridTemplateRows = rowString;

    //     framePercentWidthT = framePercentWidthMath;
    //     framePercentHeightT = framePercentHeightMath;
    // }

    // function submitMetrics() {
    //     Calling both updateFrames because neither update all polygons (for now), will update to just one method soon
    //     updateLeftFrameClipPaths();
    //     updateRightFrameClipPaths();
    //     updateTopFrameClipPaths();
    //     updateBottomFrameClipPaths();

    // }

    // refresh();

    // function refresh() {
    //     refreshAR();
    //     submitMetrics();
    // }

    // function updateLeftFrameClipPaths() {
    //     let height = framePercentHeightT;
    //     let oneMinusHeight = 100 - framePercentHeightT;
    //     let morePieces = true;
    //     for (let i = 1; i < 6; i++) {
    //         if (morePieces) {
    //             if (i == numLeftVisiblePiecesT) {
    //                 morePieces = false;
    //             }
    //             if (i == 1 && morePieces == false) {
                    
    //                 let style = "polygon(0% 0%,100% " + height + "%,100% " + oneMinusHeight + "%, 0% 100%)";
    //                 leftFrame1T.style.clipPath = style;
    //                 console.log("1");
    //             }
    //             if (i == 1 && morePieces == true) {
    //                 let style = "polygon(0% 0%, 100% " + height + "%, 100% " + leftFrame12Percent + "%, 0% " + leftFrame12Percent + "%)";
    //                 leftFrame1.style.clipPath = style;
    //                 console.log("2");
    //             }
    //             if (i == 2 && morePieces == false) {
    //                 let style = 'polygon(0% ' + leftFrame12Percent + '%, 100% ' + leftFrame12Percent + '%, 100% ' + oneMinusHeight + '%, 0% 100%)';
    //                 leftFrame2.style.clipPath = style;
    //                 console.log("3");
    //             }
    //             if (i == 2 && morePieces == true) {
    //                 let style = 'polygon(0% ' + leftFrame12Percent + '%, 100% ' + leftFrame12Percent + '%, 100% ' + leftFrame23Percent + '%, 0% ' + leftFrame23Percent + '%)';
    //                 leftFrame2.style.clipPath = style;
    //                 console.log("4");
    //             }
    //             if (i == 3 && morePieces == false) {
    //                 let style = 'polygon(0% ' + leftFrame23Percent + '%, 100% ' + leftFrame23Percent + '%, 100% ' + oneMinusHeight + '%, 0% 100%)';
    //                 leftFrame3.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == true) {
    //                 let style = 'polygon(0% ' + leftFrame23Percent + '%, 100% ' + leftFrame23Percent + '%, 100% ' + leftFrame34Percent + '%, 0% ' + leftFrame34Percent + '%)';
    //                 leftFrame3.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == false) {
    //                 let style = 'polygon(0% ' + leftFrame34Percent + '%, 100% ' + leftFrame34Percent + '%, 100% ' + oneMinusHeight + '%, 0% 100%)';
    //                 leftFrame4.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == true) {
    //                 let style = 'polygon(0% ' + leftFrame34Percent + '%, 100% ' + leftFrame34Percent + '%, 100% ' + leftFrame45Percent + '%, 0% ' + leftFrame45Percent + '%)';
    //                 leftFrame4.style.clipPath = style;
    //             }
    //             if (i == 5) {
    //                 let style = 'polygon(0% ' + leftFrame45Percent + '%, 100% ' + leftFrame45Percent + '%, 100% ' + oneMinusHeight + '%, 0% 100%)';
    //                 leftFrame5.style.clipPath = style;
    //             }
    //         }
    //     }
    // }

    // function updateRightFrameClipPaths() {
    //     let height = framePercentHeightT;
    //     let oneMinusHeight = 100 - framePercentHeightT;
    //     let morePieces = true;
    //     for (let i = 1; i < 6; i++) {
    //         if (morePieces) {
    //             if (i == numRightVisiblePiecesT) {
    //                 morePieces = false;
    //             }
    //             if (i == 1 && morePieces == false) {
    //                 let style = "polygon(0% " + height + "%, 100% 0%, 100% 100%, 0% " + oneMinusHeight + "%)";
    //                 rightFrame1T.style.clipPath = style;
    //             }
    //             if (i == 1 && morePieces == true) {
    //                 let style = "polygon(0% " + height + "%, 100% 0%, 100% " + rightFrame12Percent + "%, 0% " + rightFrame12Percent + "%)";
    //                 rightFrame1.style.clipPath = style;
    //             }
    //             if (i == 2 && morePieces == false) {
    //                 let style = "polygon(0% " + rightFrame12Percent + "%, 100% " + rightFrame12Percent + "%, 100% 100%, 0% " + oneMinusHeight + "%)";
    //                 rightFrame2.style.clipPath = style;
    //             }
    //             if (i == 2 && morePieces == true) {
    //                 let style = "polygon(0% " + rightFrame12Percent + "%, 100% " + rightFrame12Percent + "%, 100% " + rightFrame23Percent + "%, 0% " + rightFrame23Percent + "%)";
    //                 rightFrame2.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == false) {
    //                 let style = "polygon(0% " + rightFrame23Percent + "%, 100% " + rightFrame23Percent + "%, 100% 100%, 0% " + oneMinusHeight + "%)";
    //                 rightFrame3.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == true) {
    //                 let style = "polygon(0% " + rightFrame23Percent + "%, 100% " + rightFrame23Percent + "%, 100% " + rightFrame34Percent + "%, 0% " + rightFrame34Percent + "%)";
    //                 rightFrame3.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == false) {
    //                 let style = "polygon(0% " + rightFrame34Percent + "%, 100% " + rightFrame34Percent + "%, 100% 100%, 0% " + oneMinusHeight + "%)";
    //                 rightFrame4.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == true) {
    //                 let style = "polygon(0% " + rightFrame34Percent + "%, 100% " + rightFrame34Percent + "%, 100% " + rightFrame45Percent + "%, 0% " + rightFrame45Percent + "%)";
    //                 rightFrame4.style.clipPath = style;
    //             }
    //             if (i == 5) {
    //                 let style = "polygon(0% " + rightFrame45Percent + "%, 100% " + rightFrame45Percent + "%, 100% 100%, 0% " + oneMinusHeight + "%)";
    //                 rightFrame5.style.clipPath = style;
    //             }
    //         }
    //     }
    // }

    // function updateTopFrameClipPaths() {
    //     let width = framePercentWidthT;
    //     let oneMinusWidth = 100 - framePercentWidthT;

    //     let morePieces = true;
    //     for (let i = 1; i < 6; i++) {
    //         if (morePieces) {
    //             if (i == numTopVisiblePiecesT) {
    //                 morePieces = false;
    //             }
    //             if (i == 1 && morePieces == false) {
    //                 let style = "polygon(0% 0%, 100% 0%, " + oneMinusWidth + "% 100%, " + width + "% 100%)";
    //                 topFrame1T.style.clipPath = style;
    //             }
    //             if (i == 1 && morePieces == true) {
    //                 let style = "polygon(0% 0%, " + topFrame12Percent + "% 0%, " + topFrame12Percent + "% 100%, " + width + "% 100%)";
    //                 topFrame1.style.clipPath = style;
    //             }
    //             if (i == 2 && morePieces == false) {
    //                 let style = "polygon(" + topFrame12Percent + "% 0%, 100% 0%, " + oneMinusWidth + "% 100%, " + topFrame12Percent + "% 100%)";
    //                 topFrame2.style.clipPath = style;
    //             }
    //             if (i == 2 && morePieces == true) {
    //                 let style = "polygon(" + topFrame12Percent + "% 0%, " + topFrame23Percent + "% 0%, " + topFrame23Percent + "% 100%, " + topFrame12Percent + "% 100%)";
    //                 topFrame2.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == false) {
    //                 let style = "polygon(" + topFrame23Percent + "% 0%, 100% 0%, " + oneMinusWidth + "% 100%, " + topFrame23Percent + "% 100%)";
    //                 topFrame3.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == true) {
    //                 let style = "polygon(" + topFrame23Percent + "% 0%, " + topFrame34Percent + "% 0%, " + topFrame34Percent + "% 100%, " + topFrame23Percent + "% 100%)";
    //                 topFrame3.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == false) {
    //                 let style = "polygon(" + topFrame34Percent + "% 0%, 100% 0%, " + oneMinusWidth + "% 100%, " + topFrame34Percent + "% 100%)";
    //                 topFrame4.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == true) {
    //                 let style = "polygon(" + topFrame34Percent + "% 0%, " + topFrame45Percent + "% 0%, " + topFrame45Percent + "% 100%, " + topFrame34Percent + "% 100%)";
    //                 topFrame4.style.clipPath = style;
    //             }
    //             if (i == 5) {
    //                 let style = "polygon(" + topFrame45Percent + "% 0%, 100% 0%, " + oneMinusWidth + "% 100%, " + topFrame45Percent + "% 100%)";
    //                 topFrame5.style.clipPath = style;
    //             }
    //         }
    //     }

    // }

    // function updateBottomFrameClipPaths() {
    //     let width = framePercentWidthT;
    //     let oneMinusWidth = 100 - framePercentWidthT;

    //     let morePieces = true;
    //     for (let i = 1; i < 6; i++) {
    //         if (morePieces) {
    //             if (i == numBottomVisiblePiecesT) {
    //                 morePieces = false;
    //             }
    //             if (i == 1 && morePieces == false) {
    //                 let style = "polygon(0% 100%, " + width + "% 0%, " + oneMinusWidth + "% 0%, 100% 100%)";
    //                 bottomFrame1T.style.clipPath = style;
    //             }
    //             if (i == 1 && morePieces == true) {
    //                 let style = "polygon(0% 100%, " + width + "% 0%, " + bottomFrame12Percent + "% 0%, " + bottomFrame12Percent + "% 100%)";
    //                 bottomFrame1.style.clipPath = style;
    //             }
    //             if (i == 2 && morePieces == false) {
    //                 let style = "polygon(" + bottomFrame12Percent + "% 0%, " + oneMinusWidth + "% 0%, 100% 100%, " + bottomFrame12Percent + "% 100%)";
    //                 bottomFrame2.style.clipPath = style;
    //             }
    //             if (i == 2 && morePieces == true) {
    //                 let style = "polygon(" + bottomFrame12Percent + "% 0%, " + bottomFrame23Percent + "% 0%, " + bottomFrame23Percent + "% 100%, " + bottomFrame12Percent + "% 100%)";
    //                 bottomFrame2.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == false) {
    //                 let style = "polygon(" + bottomFrame23Percent + "% 0%, " + oneMinusWidth + "% 0%, 100% 100%, " + bottomFrame23Percent + "% 100%)";
    //                 bottomFrame3.style.clipPath = style;
    //             }
    //             if (i == 3 && morePieces == true) {
    //                 let style = "polygon(" + bottomFrame23Percent + "% 0%, " + bottomFrame34Percent + "% 0%, " + bottomFrame34Percent + "% 100%, " + bottomFrame23Percent + "% 100%)";
    //                 bottomFrame3.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == false) {
    //                 let style = "polygon(" + bottomFrame34Percent + "% 0%, " + oneMinusWidth + "% 0%, 100% 100%, " + bottomFrame34Percent + "% 100%)";
    //                 bottomFrame4.style.clipPath = style;
    //             }
    //             if (i == 4 && morePieces == true) {
    //                 let style = "polygon(" + bottomFrame34Percent + "% 0%, " + bottomFrame45Percent + "% 0%, " + bottomFrame45Percent + "% 100%, " + bottomFrame34Percent + "% 100%)";
    //                 bottomFrame4.style.clipPath = style;
    //             }
    //             if (i == 5) {
    //                 let style = "polygon(" + bottomFrame45Percent + "% 0%, " + oneMinusWidth + "% 0%, 100% 100%, " + bottomFrame45Percent + "% 100%)";
    //                 bottomFrame5.style.clipPath = style;
    //             }
    //         }
    //     }
    // }

    // $(".uploadBackground").change(function(e) {

    //     for (var i = 0; i < e.originalEvent.srcElement.files.length; i++) {

    //         var file = e.originalEvent.srcElement.files[i];

    //         var img = document.getElementsByClassName("editorItem")[0];
    //         var reader = new FileReader();
    //         reader.onloadend = function() {
    //                     img.style.backgroundImage = "url(" + reader.result + ")";
    //         }
    //         reader.readAsDataURL(file);
    //         $(".picture").after(img);
    //     }
    // });
</script>